name: Example workflow for Node using Snyk
on: push
jobs:
  security:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@master
      - name: Run Snyk to check for vulnerabilities
        uses: snyk/actions/node@master
        continue-on-error: true       
        with:
         command: test
         severity-threshold: high  
        env:
         SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}

      - name: Run Snyk Monitor
        if: ${{ steps.snyk_test.outcome == 'success' }}
        uses: snyk/actions/maven@master
        with:
         command: monitor
        env:
         SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
